# AI划词助手 v2.0 - 功能说明

## 🎯 核心功能

### 1. 全局划词功能
- **任意应用中使用**：在浏览器、编辑器、PDF阅读器等任何应用中选中文本
- **多种触发方式**：
  - 快捷键触发（默认 Ctrl+Q）
  - 剪贴板监听（可选）
  - 自动检测复制的文本

### 2. 自定义AI按钮
- **默认按钮**：
  - 🌐 翻译 - 智能中英互译
  - 💡 解释 - 详细解释概念
  - 📝 总结 - 提取要点
  - ✏️ 改写 - 优化文本
  - ✔️ 纠错 - 语法检查

- **自定义功能**：
  - 添加新按钮
  - 自定义按钮名称和图标
  - 编辑提示词模板
  - 启用/禁用按钮

### 3. 多种AI接口支持
- **OpenAI**：支持 GPT-3.5/GPT-4
- **Azure OpenAI**：企业级服务
- **自定义API**：支持任意 REST API

### 4. 系统托盘
- 最小化到系统托盘
- 快速开关功能
- 右键菜单操作

## 🚀 使用方法

### 快速开始
1. **启动应用**：运行后自动最小化到托盘
2. **选中文本**：在任意应用中选中文本
3. **触发AI**：按 Ctrl+Q 或启用剪贴板监听
4. **选择功能**：点击弹出的AI功能按钮
5. **查看结果**：在结果窗口查看AI处理结果

### 设置说明

#### 功能按钮设置
- 点击"编辑"修改按钮的提示词
- 点击"+ 添加新按钮"创建自定义功能
- 使用开关启用/禁用按钮
- 自定义按钮可以删除

#### API设置
1. **OpenAI**：
   - 获取 API Key：https://platform.openai.com/api-keys
   - 选择模型（GPT-3.5 或 GPT-4）
   - 调整 Temperature（创造性）

2. **Azure OpenAI**：
   - 填写终结点和部署名称
   - 使用企业级 API Key

3. **自定义API**：
   - 支持任意 HTTP API
   - 自定义请求头和请求体模板
   - 使用 {text} 和 {prompt} 占位符

#### 通用设置
- **开机自动启动**：Windows 启动时自动运行
- **全局快捷键**：自定义触发快捷键
- **剪贴板监听**：自动检测复制的文本
- **最大文本长度**：限制处理的文本长度

## 💡 使用技巧

### 1. 提示词模板编写
使用 `{text}` 作为选中文本的占位符：
```
请将以下文本翻译成中文：
{text}
```

### 2. 自定义按钮示例

**代码解释按钮**：
- 名称：代码解释
- 图标：💻
- 提示词：
```
请详细解释以下代码的功能和原理：
{text}
```

**学术改写按钮**：
- 名称：学术改写
- 图标：🎓
- 提示词：
```
请将以下内容改写为学术论文风格：
{text}
```

### 3. API配置建议
- 使用国内代理加速 OpenAI API
- Azure OpenAI 更稳定但需要申请
- 自定义 API 可接入本地大模型

## 🔧 故障排除

### 问题：快捷键无效
- 检查是否与其他软件冲突
- 尝试更换快捷键组合
- 确保应用在托盘中运行

### 问题：API调用失败
- 检查网络连接
- 验证 API Key 是否正确
- 查看是否需要代理

### 问题：文本捕获失败
- 某些应用可能限制文本复制
- 尝试使用快捷键而非剪贴板监听
- 确保选中的是可复制文本

## 📌 注意事项

1. **隐私安全**：
   - API Key 保存在本地
   - 不会上传选中的文本到第三方
   - 建议定期更换 API Key

2. **性能优化**：
   - 剪贴板监听可能影响性能
   - 建议使用快捷键触发
   - 限制最大文本长度

3. **系统兼容**：
   - Windows 7/8/10/11
   - 需要 .NET Framework 4.5+
   - 某些功能需要管理员权限

## 🎊 版本特性

### v2.0.0 新增功能
- ✅ 全局划词支持
- ✅ 自定义按钮和提示词
- ✅ 多种AI接口
- ✅ 系统托盘
- ✅ 配置持久化
- ✅ 结果窗口优化

### 后续计划
- [ ] 历史记录功能
- [ ] 批量处理
- [ ] 语音播放
- [ ] 插件系统
- [ ] 云同步配置